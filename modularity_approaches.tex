\documentclass[a4paper,two-side,10pt]{article}
%%%%%%%% PLEASE DO NOT CHANGE THE LAYOUT SPECIFIED BELOW %%%%%
%%%%%%%% Begin: Layout Instructions %%%%%%%%%%%%%%
\hoffset -1in
\voffset -1in
\oddsidemargin 3.3cm
\evensidemargin 3.3cm
\headheight 2.5cm
\textwidth14.3cm
\textheight21.5cm
%%%%%%%% End: Layout Instructions %%%%%%%%%%%%%%%%


\usepackage{amsmath,amssymb,amsthm}
\usepackage{epsfig}
\usepackage{color}
\usepackage{bbm}
\usepackage{boxedminipage}
\usepackage{pifont}
\usepackage{xspace}
\usepackage{graphics}
\usepackage{misc}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage{colortbl}
\usepackage{multirow}
\usepackage{array}
\usepackage{rotating}
\usepackage{hyperref}
\usepackage{bbding}
\usepackage{stmaryrd}
\usepackage{calc}
\newcommand{\ISA}{\sqsubseteq}
\begin{document}
\section*{Module Extraction and Importing}
The problem of module extraction can be phrased as follows: 
%\begin{description}
%\item[Module Extraction:] 
given a subset of $\Sigma$ of the vocabulary of an ontology, find a (minimal) subset of that ontology that is ``relevant" for the terms in $\Sigma$.  There are different approaches to  ``relevance" for $\Sigma$; they can be grouped into structural ones, and logic ones.  
%\end{description}

\noindent
We are interested in  \emph{logic-based modules}, for which  relevance amounts  to entailment (or model) preservation  over a signature $\Sigma$. %The latter acts as an interface for communication with the ontology in question. 
 That is, when we say that a  subset \Mmc of an ontology \Omc  ``is relevant for''  the terms in $\Sigma$, we mean that all consequences of \Omc  that can be expressed over $\Sigma$ are also consequences of \Mmc. Then \Omc is said to be a conservative extension (CE) of \Mmc.  
 
 Observe that the logical view appears to be theoretically sound and elegant and guarantees that by reusing only terms from $\Sigma$ one is not able to distinguish between importing $\Mmc$ and importing \Omc into some ontology $\Omc'$. However, the decision problem associated to conservative extension is  difficult in general: deciding whether \Omc is a $\Sigma$-conservative extension of $\Omc'$ is 2NEXPTIME-complete for $\ALCQI$ (roughly OWL-Lite) and undecidable for OWL-DL. For model conservative extensions the problem is highly undecidable (non recursively enumerable), even for \ALC.  These computational obstacles have lead, e.g., to approximations via locality.  Locality-based models preserve certain entailments and although they are not minimal, they  have been shown to be useful for economically reusing ontologies.   
 
 In the remaining of this paper we will survey locality-based modules as well as other  
 notions and approaches for module extraction. 

%For logic-based approaches, the notion of relevance is formalized by 
%Approaches to \emph{relevance} for $\Sigma$:
%\begin{itemize}
%\item structural : axioms and concept hierarchy 
%
%\item Logic-based: preserve entailments over a signature
%\end{itemize}
%
%$\Sigma, \mathcal{QL}$ acts as an interface. One wants to extract all the knowledge relevant w.r.t. that interface. 
%
%\Mmc is a module on \Omc relevant w.r.t. $\Sigma$ is all consequences of $\Omc$ that can be expressed on $\mathcal{QL}$ over $\Sigma$ are also consequences of \Mmc. That is \Omc is a \emph{conservative extension} of \Mmc.   
%
%We are interested in \emph{logic-based} modules. 

Comparison of the various module notions can be carried out examining properties relevant for ontology reuse.  The relevant properties have been identified in the literature and are described below: 

\paragraph{Robustness under vocabulary restrictions.} This property implies that that a module of an ontology w.r.t.\ a signature $\Sigma$ is also a module of this ontology w.r.t.\ any subset of $\Sigma$. This property is important because it means that we do not need to import a different module when we restrict the set of terms that we are interested in. 

\paragraph{Robustness under vocabulary extensions.} This implies that a module of an ontology \Omc w.r.t.\ 
 a signature $\Sigma$ is also a module of \Omc w.r.t.\ any $\Sigma' \supseteq \Sigma$ as long as $\Sigma' \setminus$ does not share terms with \Omc. This means that we do not need to import a different module when extending the set of relevant terms with terms not from \Omc. 
 
\paragraph{Robustness under replacement for a logic $L$.} This property implies that if \Mmc is a module of \Omc w.r.t.\ $\Sigma$, then the result of importing \Mmc into an $L$-ontology \Omc' is a module of the result of importing \Omc into \Omc'. This is called \emph{module coverage} in the literetarure: importing a module does not affect its property of being a module. 

\paragraph{Robustness under joins.} If two ontologies  are indistinguishable w.r.t.\ $\Sigma$ and they share only terms from $\Sigma$, then each of them is indistinguishable from their union w.r.t.\ $\Sigma$. This property together with robustness under replacement, implies that it is not necessary to import two indistinguishable versions of the same ontology. 

\subsection*{Conservative Extensions and Inseparability}
We call the set of \emph{terms} (class, property and individual names) that occur in an ontology \Omc the \emph{signature}
of \Omc, and denote it by $\mn{Sig}(\Omc)$. 
There are at least two different notions  of conservative extension in the context of ontologies: Let $\Omc' \subseteq \Omc$ be two ontologies, $\Sigma$ a signature and $L$ a logic. 
\begin{enumerate}
\item $\Omc$ is a \emph{deductive $\Sigma$-conservative extension ($\Sigma$-dCE)} of $\Omc'$  w.r.t. $L$, if for every axiom $\alpha$ over $L$  with $\mn{Sig}(\alpha) \subseteq \Sigma$, we have $\Omc  \models \alpha$ iff $\Omc' \models \alpha$. 
\item    $\Omc$ is a \emph{model $\Sigma$-conservative extension ($\Sigma$-mCE)} of $\Omc'$, if for every model $\Imc'$ of $\Omc'$, there exists a model \Imc of \Omc such that $\Imc'|_\Sigma = \Imc|_\Sigma$. 
%\item 
\end{enumerate}
Note that the notion of model conservative extension is strictly stronger that the deductive  one, since it does not depend on the expressiveness of the language $L$. That is $\Omc$ being a $\Sigma$-mCE of \Mmc implies that \Omc is a $\Sigma$-dCE of \Mmc. 

\smallskip\noindent
Another useful notion to characterize  modules is that  of \emph{(model-theoretical) inseparability}.
Let $\Omc_1$ and $\Omc_2$ be ontologies and $\Sigma$ a signature. Then $\Omc_1$ and $\Omc_2$ are \emph{ $\Sigma$-model inseparable}, written $\Omc_1 \equiv_{\Sigma} \Omc_2$ if, $\{\Imc|_{\Sigma} : \Imc \models \Omc_1\} = \{\Imc|_\Sigma : \Imc \models \Omc_2\}$.  $\Sigma$-model inseparability provides a very strong form of equivalence as $\Omc_1 \equiv_\Sigma \Omc_2$ guarantees that $\Omc_1$ can be replaced with $\Omc_2$ in any application that refers only to symbols from $\Sigma$. Indeed, $\Omc_1 \equiv_\Sigma \Omc_2$ if and only if 
$$\Omc_1 \models \varphi \text{ iff } \Omc_2 \models \varphi$$
holds for any second order sentence $\varphi$ using only symbols from $\Sigma$.  
%
Weaker versions of inseparability relations can be defined. For a given logic $L$, an \emph{inseparability relation} is a family $S = \{\equiv^S_\Sigma \mid \Sigma  \text{ is a signature}\}$ of equivalence relations on the set of $L$ theories. The intuition behind this notion is as follows: $\Tmc_1 \equiv^S_\Sigma \Tmc_2$  means that $\Tmc_1$ and $\Tmc_2$ are indistinguishable w.r.t.\ $\Sigma$, i.e., they represent the same knowledge about the topic represented by $\Sigma$. The precise definition of the inseparability relation determines the exact meaning of the terms ``indistinguishable" and "the same knowledge". $\Mmc$ being a module for $\Sigma$ of \Omc should be equivalent to $\Mmc \subseteq \Omc$ and $\Mmc$ being inseparable w.r.t.\ $\Sigma$ from \Omc. Under the requirement to preserve entailments the following inseparability relations can be defined (in the context of description logics):
%
\begin{itemize}
\item $\Omc_1$ and $\Omc_2$ are $\Sigma$-\emph{concept inseparable}, in symbols $\Omc_1 \equiv^c_\Sigma \Omc_2$, if for all $\Sigma$-concepts $A,B$, it holds that $\Omc_1 \models A \sqsubseteq B$ if and only if $\Omc_2 \models A \sqsubseteq B$.
\item  $\Omc_1$ and $\Omc_2$ are $\Sigma$-\emph{subsumption inseparable} w.r.t.\ a logic $L$, written $\Omc_1 \equiv^s_\Sigma \Omc_2 $, if for all concepts expressions in $C,D$ in $L$ over $\Sigma$, it holds that $\Omc_1 \models C \sqsubseteq D$ if and only if $ \Omc_2 \models C \sqsubseteq D$.   
\end{itemize}
%
%%%%%%%%%
It is easy to see that, for each signature $\Sigma$, it holds that $\equiv_\Sigma \ \subseteq \ \equiv^s_\Sigma \ \subseteq \ \equiv^c_\Sigma$. 

\subsection*{Module Notions}
Conservative extension and inseparability relations induce modules as follows.  Let $L$ be a logic, \Omc  an ontology, $\Mmc \subseteq \Omc$ and $\Sigma$ a signature. We call \Mmc

\begin{enumerate}
\item a \emph{dCE-based (mCE-based) module} for $\Sigma$ of \Omc if \Omc is a $\Sigma$-dCE ($\Sigma$-mCE) of \Mmc w.r.t. $L$
\item a \emph{$\Sigma$-module} of \Omc in $\Mmc \equiv_\Sigma \Omc$; \footnote{analogous notions can be define  for other inseparability relations}
\item a \emph{self-contained $\Sigma$-module} of \Omc if $\Mmc  \equiv_{\Sigma \cup \mn{Sig}(\Mmc)} \Omc$;
\item a \emph{depleting $\Sigma$-module}  of \Omc if $  \Omc \setminus \Mmc \equiv_{\Sigma \cup \mn{Sig}(\Mmc)} \emptyset $
\end{enumerate}

%As mentioned earlier, the notion of conservative extensions can be used to define modules in a precise and elegant way. 
%We start with   conservative extensions-based modules.
%Let \Omc be an ontology and  $\Sigma \subseteq \mn{Sig}(\Omc)$.
We say that a  subset $\Mmc \subseteq \Omc$ \emph{covers} all the knowledge that $\Omc$ has about $\Sigma$, if for every axiom $\alpha$  with, $\mn{Sig}(\alpha) \subseteq \Sigma$,  we have that $\Omc \models \alpha$ if and only if $\Mmc \models \alpha$.  Note that in that case   $\Omc$ is a deductive conservative extension of $\Mmc$.  
%\paragraph{$\Sigma$-modules.} 
%Let  $\Omc$ be an ontology  and $\Sigma \subseteq \mn{Sig}(\Omc)$, 
%a subset $\Mmc$ of \Omc is a  \emph{$\Sigma$-module} 
%if \Omc is a $\Sigma$-CE of \Mmc 
%Observe that according to the latter notion,  
%if \Mmc covers all the knowledge that \Omc has about $\Sigma$. 
We say that \Omc is \emph{safe} for $\Sigma$ if, for every ontology $\Omc'$ with $\mn{Sig}(\Omc)\cap \mn{Sig}(\Omc') \subseteq \Sigma$, we have that $\Omc \cup \Omc'$ is a conservative extension of $\Omc'$; alternatively, this notion can be formulated in terms of separability: an ontology \Omc is safe for a signature $\Sigma$  if and only if $\Tmc \equiv_\Sigma \emptyset$.

\medskip \noindent
Observe that if  $\Mmc$ is a depleting $\Sigma$-module of $\Omc$, then  for every ontology $\Omc'$ and every axiom $\alpha$ with $\mn{Sig}(\Omc' \cup \{\alpha \}) \cap \mn{Sig}(\Omc) \subseteq \Sigma$, it holds $\Omc' \cup \Omc \models \alpha$ if and only if  $\Omc' \cup \Mmc \models \alpha$.  
 
\medskip \noindent
 In the module importing scenario, the signature $\Sigma$ acts as the \emph{interface} signature between $\Omc'$ and \Omc in the sense that it contains symbols that $\Omc'$ and $\alpha$  may share with \Omc. 
% Note also that the ontology $\Omc'$ and the axiom $\alpha$ are formulated in some ontology language $L$, which might not necessarily be a sub-language of OWL-DL. Also, fixing the language $L$ is important since it may well be the case that $\Mmc$ is a module in \Omc w.r.t.\ a language $L_1$, but not w.r.t.\ $L_2$. This might be reasonable in some applications, but not in others (e.g., in the interoperability scenario).   
%It is therefore more convenient to the  more general notion of a module which abstracts from the particular language under consideration.




%\paragraph{strong $\Sigma$-modules} Let $\Omc' \subseteq \Omc$ ontologies and $\Sigma $ a signature. $\Omc'$ is a \emph{(strong) $\Sigma$-module in \Omc} if, for every ontology \Pmc with $\mn{Sig}(\Pmc) \cap \mn{Sig}(\Omc) \subseteq \Sigma$, it holds $\Pmc \cup \Omc$ is c conservative extension of $\Pmc \cup \Omc'$ for \mn{Sig}(\Pmc).  
%\paragraph{Self-contained $\Sigma$-modules.} A \emph{self-contained}
%
A ``plain" $\Sigma$-module \Mmc of \Omc covers all knowledge that \Omc has about $\Sigma \cup \mn{Sig}(\Mmc)$.
%
The notion of self-contained module is  stronger than the plain
$\Sigma$-module notion in that it requires the module to preserve entailments that can
be formulated in the interface signature \emph{plus} the signature of the module. That is, it covers all the knowledge that \Omc has about $\Sigma \cup \mn{Sig}(\Mmc)$. 
%
On the other hand, for  a \emph{depleting} $\Sigma$-module \Mmc of \Omc,  the difference $\Omc \setminus \Mmc$ has no knowledge about $\Sigma \cup \mn{Sig}(\Mmc)$. 
%
This  means that the difference of \Omc and its module \Mmc does not entail
any axioms in terms of $\Sigma \cup  \mn{Sig}(\Mmc)$ other than tautologies. The relationship between the different kinds of modules induces by separability relations is as follows. %[Kontchavov et al.,IJCAI09] [Konev et al., JAI 2013]
\begin{itemize}
\item If \Mmc is a self-contained $\Sigma$-module of \Omc, then it is a (plain) $\Sigma$-module.
\item If \Mmc is a depleting $\Sigma$-module of \Tmc, then it is a self-contained $\Sigma$-module. 
\end{itemize}

%The notion of depleting module is stronger than self-contained  or the plainÄù $\Sigma$-module notion.


\medskip\noindent
$\Omc'$ is a \emph{minimal} (self-contained, depleting) $\Sigma$-module in \Omc if there is no $\Omc_1 \subsetneq \Omc'$ that is also a (self-contained, depleting) $\Sigma$-module in \Omc.  
With that notion in place,  the following module extraction tasks can be defined:
\begin{itemize}
\item[$\mathbf{T1}$.] compute \emph{all} minimal $\Sigma$-modules in \Omc.
\item[$\mathbf{T2}$.] compute some minimal $\Sigma$-module
%\item 
\end{itemize}
%

\smallskip \noindent
This follows from undecidability results about conservative extension and $\Sigma$-modules
\begin{description}
\item[(undec.)] There is no algorithm for performing any of the task $\Tbf1$ and $\Tbf2$ for \ALC-ontologies. 
\end{description}
%
Note however, that it is always possible to extract a $\Sigma$-module in \Omc. In particular,  $\Omc$ is always a $\Sigma$ module in \Omc. Finally, while there can be exponentially many minimal $\Sigma$-modules, minimal depleting modules are uniquely determined--under mild conditions involving inseparability relations. 


%WE NEED TO REWORK THIS PART BY USING AN SLIGHTLY DIFFERENT NOTION OF MODULE:
%We say that a subset \Mmc of an ontology is a $\Sigma$ module w.r.t.\ a language $L$, if for every ontology $\Omc'$ and every axiom $\alpha$ expressed in $L$ with $\mn{Sig}(\Omc'\cup \{\alpha\} ) \cap \mn{Sig}(\Omc \subseteq \Sigma)$, we have $\Omc' \cup \Omc \models \alpha$ iff $\Omc' \cup \Mmc \models \alpha$.
%
%\medskip \noindent
% The two notions of CEs are related to the notion of $\Sigma$-module as follows.  Let $\Omc' \subseteq \Omc$ ontologies. Then: 
%\begin{enumerate}
%\item if $\Omc'$ is a $\Sigma$-module in \Omc w.r.t\ $L$ then \Omc is a deductive $\Sigma$-conservative extension of $\Omc'$ w.r.t.\ $L$;
%\item if $\Omc$ is a model $\Sigma$-conservative extension of $\Omc'$ then $\Omc'$ is a $\Sigma$-module in $\Omc$ for every ontology language $L$ with Tarski-style set-theoretic semantics. 
%\end{enumerate}

%\subsection{minimal modules}
%% Minimality of module
%%%%%%%%
\begin{table}[tb]
\renewcommand*{\arraystretch}{1.5}
\begin{sideways}
\begin{small}
\centering
\begin{tabular}{cccc|cc} \toprule 
 \multirow{2}{*}{\bf Properties} &\multicolumn{4}{c}{\bf Module Notions}\\ \cline{2-6}
   & plain    & self-contained & depleting  & $\Delta, \emptyset, \top, \bot, (\top\bot)^*$ and $(\bot\top)^*$ & $\top\bot$, and  $\bot\top$ \\
   &		&			&			&				 locality-based & locality-based\\ \midrule
 {\bf mCE (dCE)}& \checkmark & \checkmark & \checkmark & \checkmark
 %\multicolumn{4}{c}{\Omc is a mCE (dCE) of \Mmc}
 \\ \midrule
 {\bf inseparability}  & $\Omc \equiv_\Sigma \Mmc$ 
   & $\Omc \equiv_{\Sigma \cup \mn{Sig}(\Mmc)} \Mmc$ &  $\Omc \setminus \Mmc \equiv_{\Sigma \cup \mn{Sig}(\Mmc)}\emptyset$ \\ 
   \midrule
   {\bf self-contained} & \XSolidBrush & \checkmark & \checkmark & \checkmark & \checkmark \\ \midrule
   {\bf depleting}  &\XSolidBrush & \XSolidBrush & \checkmark &\checkmark & \checkmark \\ \midrule
   {\bf safety} &  & & &\\ \midrule
   {\bf robustness voc. restr.} & $\checkmark$ & \checkmark & \checkmark &\checkmark & \XSolidBrush\\    \midrule
   {\bf robustness voc. ext.} & \checkmark & \checkmark &\checkmark &\checkmark & \XSolidBrush\\ \midrule 
    {\bf robustness replacement} & \checkmark & \checkmark & \checkmark &\checkmark & \checkmark \\ \midrule
   {\bf robustness joins} & \checkmark& \checkmark & \checkmark & \checkmark &  \checkmark \\ \midrule
  % {\bf Complexity issues} & \multicolumn{3}{c}{\par undecidable for most expressive OWL-DL fragments} & {\par Efficiently computable for $\mathcal{SHOIQ}$ DL }  \\ \bottomrule
\end{tabular}
\end{small}
\end{sideways}
\caption{Properties of $\Sigma$-modules}
\label{tab:mod-notions}

\end{table}
%%%%%LOCALITY
\subsection*{Locality}
%-based modules}  
%Given the undecidability of decision problems underlying (minimal) model extraction (see $\mathbf{T1}$ and $\mathbf{T2}$ above) the notion of locality has been proposed for computing reasonably small modules. 

 The logic-based approach for defining modules in terms of  model conservative extensions seems theoretically sound and appropriate to guarantee that reusing only terms from $\Sigma$ one will not be able to distinguish between importing a $\Sigma$mCE (or dCE) module \Mmc of \Omc and importing the whole \Omc.  %It is not possible however, to design a procedure that extracts models based on this condition
However,  deciding CEs is computationally expensive in general:  deciding whether two ontologies entail the same concept inclusions over a given signature is usually harder than standard reasoning. 
Due to the computationally difficulty to decide both kinds of CEs, approximations have been introduced based on the notion of \emph{locality} of a single axioms. Intuitively,  given $\Sigma$, a local axiom can always be satisfied independently of the interpretation of the $\Sigma$-terms, but in a restricted way:  by interpreting all non-$\Sigma$ terms as either the empty set ($\emptyset$-locality) or as the full domain ($\Delta$-locality). In other words, \emph{an axiom $\alpha$ is local w.r.t.\ $\Sigma$} if every trivial expansion of any $\Sigma$-interpretation to $\Sigma \cup \mn{Sig}(\alpha)$ is a model of $\alpha$.
%We omit here the precise definition of local axiom. Instead, we note that 

It has been shown that for   a subset $\Mmc \subseteq \Omc$  all axioms in $\Omc \setminus \Mmc$ being  $\emptyset$-local (or all axioms are $\Delta$-local) w.r.t.\ $\Sigma \cup \mn{sig}(\Mmc)$ it is sufficient for $\Omc$ to be a $\Sigma$-mCE of \Mmc. However, the converse does not hold. The previous result can be also formulated in a more general way as follows. Let $\Omc_1, \Omc_2$ be two ontologies and $\Sigma$ a signature such that $\Omc_2$ is local w.r.t.\ $\Sigma \cup \mn{Sig}(\Omc_1)$,  then $\Omc_1 \cup \Omc_2$ is a $\Sigma$-model conservative extension of $\Omc_1$. 

One can use the standard capabilities of available DL-reasoners for testing ($\emptyset$ ($\Delta$)-locality.  Note, however, that  reasoning on expressive DLs (underlying OWL-DL) is not tractable. In order to achieve \emph{tractable} module extraction,  syntactic approximations of locality have been introduced.   
%
%\paragraph{Syntactic Approximations of Locality}
 %It is possible to formulate tractable approximations to the locality conditions for the DL $\Smc\Hmc\Omc\Imc\Qmc$.  
 These approximations come in two variants: \emph{$\bot$-locality} and \emph{$\top$-locality}. It has been shown that $\bot$-locality ($\top$-locality) of an axiom $\alpha$ w.r.t.\ $\Sigma$ implies $\emptyset$-locality ($\Delta$-locality) of $\alpha$ w.r.t.\  $\Sigma$. Therefore, all axioms being $\bot$-local (or all axioms being $\top$-local)  w.r.t.\ $\Sigma \cup \mn{sig}(\Mmc)$ is sufficient for \Omc to be a $\Sigma$-mCE of \Mmc, but the converse does not hold. 


%The following relation holds: If $\Omc'$ is a syntactic locality-based $\Sigma$-module in \Omc, then $\Omc'$ is a semantic locality-based $\Sigma$-module in \Omc.  

%\medskip \noindent
%Let \Omc be an ontology and $\Sigma$ a signature. \Omc is safe for $\Sigma$ if, for every ontology $\Omc'$ with $\mn{Sig}(\Omc) \cap \mn{Sig}(\Omc') \subseteq \Sigma$, it holds that $\Omc \cup \Omc'$ is a conservative extension of $\Omc'$.  

 

%it is not possible to design sound and complete procedures for extracting modules based solely on conservati.
%Nonetheless, it is possible to establish sufficient conditions to ensure that an extracted module preserves (certain) entailments w.r.t./ a signature.  Such conditions are decidable and can be used in practice. The first condition is formalized by the notion of \emph{locality}.  



%\begin{itemize}
%\item Informally:
%Everything the ontology \Omc knows about the topic consisting of the terms in $\Sigma$ and $\Omc'$, is already known by its module $\Omc'$. The remainder of \Omc knows nothing non-trivial about this topic.
%\item Half-formally:
%All entailments (consequences) of \Omc that can be formulated using only terms from $\Sigma$ or $\Omc'$ follow already from $\Omc'$. The difference $\Omc \setminus \Omc'$ has no such entailments other than tautologies.
%\item Formally: See the technical papers [1, 2, 3].
%
%$\end{itemize}
%
%
%\medskip \noindent
%The following result is the reason why `approximations' for module extractions are required 
%\begin{description}
% Given a signature $\Sigma$, and $\ALC$-ontology \Omc and ontology $\Omc' \subseteq \Omc$ it is undecidable whether $\Omc'$ is a $\Sigma$-module in \Omc w.r.t. $L $
%\end{descriptioj}
%Definition 4 (Module for a Signature). Let $\Omc'_1 \subseteq \Omc'$  and $\Sigma$
%a signature. We say that $\O'_1$
% is a module for $\Sigma$ in $\O'$ (or an $\Sigma$-module in O0)
%if, for every ontology O with Sig(O) \ Sig(O0)  S, we have that O [ O0 is a
%conservative extension of O [ O0
%1 for

%\smallskip \noindent
%Intuitively, an ontology \Omc is local w.r.t.\ a signature $\Sigma$ if we can take any interpretation for the symbols in $\Sigma$ and extend it to a model of \Omc that interprets additional symbols as the empty set. 

%\smallskip \noindent
%Locality can be used to formulate a sufficient condition for an ontology to be a model conservative extension. 


%\smallskip \noindent
%For $\Omc_1, \Omc_2$ as in the latter proposition it holds that $\Omc_1$ is a $\Sigma$ module in $\Omc_1 \cup \Omc_2$. This means that 


%
%\begin{itemize}
%\item[]
\paragraph{Locality-based Module.}  Locality notions  can be used to define modules as follows. 
Let $x \in \{\emptyset, \Delta, \top, \bot \}$
Let $\Mmc \subseteq \Omc$ be ontologies and $\Sigma$ a signature. $\Mmc$ is an  \emph{$x$-locality-based $\Sigma$- module in \Omc} if $\Omc \setminus \Mmc$ is $x$-local w.r.t.\ $\Sigma \cup \mn{Sig}(\Mmc)$.
%\end{itemize}
%
%

\medskip\noindent
Modules of \Omc for each of the four locality notions are obtained by starting with an empty set of axioms and subsequently adding axioms from \Omc that are non-local. In order for this procedure to be correct, the signature against with locality is checked has to be extended with the terms in the axiom that is added in each step. $x$-locality based as define above, are always mCE-based (and therefore dCE-based).

\begin{figure}
\centering
\includegraphics[scale=.7]{locality}
\caption{Locality-based Module Extraction}
\end{figure}
\medskip\noindent
In general, locality based  modules  are not minimal but provide the preservation of certain entailments.  Modules based on syntactic locality can be made small by nesting $\top$-extraction into $\bot$-extraction and vice vera, and the result is still an mCE-based module. 
%Taken from:  http://owl.cs.manchester.ac.uk/research/modularity/

%A locality-based module $\Mmc$ is a subset $\Mmc \subseteq  \Omc$ extracted from \Omc for  signature $\Sigma$, 
%of terms (class or property names). 
%$\Sigma$ is 
%called a seed signature of $\Mmc$. 

A locality-based module $\Mmc$ is  a self-contained and depleting $\Sigma$-module.  
$\top$-locality and $\bot$-locality are sufficient for safety: 
 If an ontology \Omc is $\bot$-local or $\top$-local w.r.t.\  $\Sigma$, then \Omc is safe for $\Sigma$. 

%\medskip \noindent
%Let $\Omc_1 \subseteq \Omc$ be ontologies and $\Sigma$ a signature. $\Omc_1$ is a $\top$-module ($\bot$-module) for $\Sigma$ in \Omc if $\Omc \setminus \Omc_1$ is $\bot$-local ($\top$-local) w.r.t. $\Sigma \cup \mn{Sig}(\Omc_1)$. 

\subsection*{Other Module Extraction Techniques} 
For rather unexpressive ontology languages ad-hoc  (minimal) module extraction procedures have been developed. 
For the DL $\Emc\Lmc^{+}$  connected reachability-based modules correspond to modules based on syntactic  locality. 
% Intuitively, a module of an ontology \Omc is a subset $\Mmc \subseteq \Omc$ that preserves an axiom of interest or the axioms over a signature of interest.
%Formally, for an axiom $\alpha$, $\Mmc$ is an \emph{$\alpha$-module} in \Omc if $\Mmc \models \alpha$ iff $\Omc \models \alpha$.  Further, $\Mmc$ is a module for a signature $\Sigma$ if for every axiom $\alpha$ with $\mn{Sig}(\alpha) \subseteq \Sigma$,  it holds that $\Mmc$ is an $\alpha$-module in \Omc.   
 
\paragraph{Connected reachability and modules.} Let \Omc be an $\Emc\Lmc^+$ ontology, $\Sigma \subseteq \mn{Sig}(\Omc)$ a signature, and $x, y \in \mn{Sig}(\Omc)$ concept or role names.  $x$ is said to be  connectedly reachable from $\Sigma$ w.r.t.\ \Omc (for short, $\Sigma$-reachable) iff $x\in \Sigma$ or there is an axiom (either GCI or RI ) $\alpha_L \sqsubseteq \alpha_R \in \Omc$ s.t.\ $x \in \mn{Sig}(\alpha_R)$ and, for all $y \in  \mn{Sig}(\alpha_L)$, $y$ is reachable from $\Sigma$. 
An axiom $\beta_L \sqsubseteq  \beta_R$ is said to be connected reachable from $\Sigma$ w.r.t. \Omc (for
short, $\Sigma$-reachable) if, for all $x \in  \mn{Sig}(\beta_L)$, $x$ is $\Sigma$-reachable. The \emph{reachability-
based module for $\Sigma$ in \Omc} is the set of all $\Sigma$-reachable axioms.

Intuitively, $x$ is connectedly reachable from $\{y\}$ w.r.t.\ \Omc means that $y$ syntactically refers to $x$, either directly or indirectly via axioms in \Omc. If $x,y$ are concept names, then the reachability suggests a potential subsumption relationship
$y \sqsubseteq_\Omc x$.

It has been shown that for an $\EL^+$ ontology and signature $\Sigma$, the subset $\Omc_\Sigma \subseteq$ of all $\Sigma$-reachable axioms can be computed in linear time and that it is the minimal $\bot$ locality-based module w.r.t. $\Sigma$ of \Omc.

 \paragraph{Minimal Module Extraction (MEX and AMEX algorithms).} Based on the notion of \emph{depleting $\Sigma$-module}. 
Recall that a depleting $\Sigma$-module can be defined as a subset of an ontology that is self-contained in the sense that it is $\Sigma$-inseparable from the ontology, where $\Sigma$ is the signature of the module. 

One of the main features of   $\Sigma$-inseparability is that it is language independent. 
Indeed, it implies inseparability w.r.t. any standard DL and even SO-logic. 
However, deciding $\Sigma$-inseparability of ontologies in  fairly restricted scenarios  is undecidable:
\begin{itemize} 
\item
Deciding $\Sigma$-inseparability is undecidable for \ALC-ontologies even if one ontology is acyclic an the other is empty;
\item For the case of \EL  undecidability is attained  when  one ontology is empty and the other is a general ontology.
\end{itemize}

%Due to the undecidability results the automated tool support for modular ontology design and maintenance is currently not based on model-theoretic inseparability, but either on deductive versions of inseparability  or stronger inseparability notions based on locality
There are some natural conditions  that lead to decidability though: e.g.,  to restrict the signature to a concept signature (i.e., only concept names/classes, but no role names/attributes):
\begin{enumerate}
\item $\Sigma$-inseparability of from the empty TBox, when $\Sigma$ is a concept signature is in 
 $\Pi^p_2$ for \ALC and \PTime for $\Emc\Lmc$; 
 \item 
$\Sigma$-inseparability  of acyclic $\Emc\Lmc$-TBoxes form the empty TBox is also \PTime
\end{enumerate}


\smallskip\noindent
%The notions of inseparability is related to depleting $\Sigma$-modules as follows:
%\begin{itemize}
%\item[($\dagger$)] if $\Omc \setminus \Mmc \equiv_{\Sigma \cup \mn{Sig}(\Mmc)} \emptyset$, for $\Mmc \subseteq \Omc$ then 
%\Mmc is a depleting $\Sigma$-module of \Omc.    
%%
%\end{itemize}


Note that if $\Mmc$ is a depleting $\Sigma$-module, then $\Omc \setminus \Mmc$ is safe for $\mn{Sig}(\Mmc)$ and so the module can be maintained separately outside of \Omc without the risk of unintended interaction with the rest of \Omc. Also note that checking depleting $\Sigma$ modules is exactly the same problem as deciding $\Sigma$-inseparability form the empty ontology. 
% 
Every depleting module \Mmc of $\Omc$ is inseparable from $\Omc$ for its signature. Thus, an ontology $\Omc$ and its depleting $\Sigma$-module  \Mmc can be equivalently replaced by each other in applications  concerning only $\Sigma$. 

Based on the observations above, algorithms for module extraction from acyclic \ELI-TBoxes have been developed. 
%

\paragraph{From deciding inseparability to module extraction:} For acyclic \ELI TBoxes, the \emph{unique minimal} depleting $\Sigma$-module  can be computed as follows.    
\begin{itemize}
\item 
Given an acyclic \EL ontology \Omc and signature $\Sigma$, the decision
procedure extracts from \Omc the smallest $\Mmc \subseteq \Omc$ such that
$\Omc \setminus \Mmc \equiv_{\Sigma \cup \mn{Sig}(\Mmc)} \emptyset$

 then $\Omc \setminus \Mmc$ is safe for $\Sigma \cup \mn{Sig}(\Mmc)$ w.r.t.\ \EL 
\item Equivalently,
$\Mmc \equiv_{\Sigma \cup \mn{Sig}(\Mmc)} \Omc$.
%
\end{itemize}
 then \Mmc is a depleting $\Sigma$-module in \Omc w.r.t. \EL.


\medskip
The previous approach for module extraction has been extended for   acyclic \ALCQI-TBoxes. Although the problem for checking depleting modules for \ALCI is undecidable, it has been proven that decidability can be regained when the remaining ontology $\Omc \setminus \Mmc$ does not contain a direct $\Sigma$-dependency. An acyclic TBox \Omc has a \emph{direct $\Sigma$-dependency}, for some signature $\Sigma$, if there exits $\{A,X\} \subseteq \Sigma$ with $A \prec^+_\Omc X$. % EXPLAIN WHAT IS THIS.

Based on the previous result, a variation of the algorithm for \ELI can be obtained that extracts a depleting $\Sigma$-module $\Mmc \subseteq \Omc$ from an acyclic \ALCI ontology that is not minimal in general, but it is minimal with the property that $\Omc \setminus \Mmc$ does not contain a direct $\Sigma \cup \mn{Sig}(\Mmc)$-dependency. 

%Thomas


%\subsection*{Inseparability Relations}
%Deciding whether two \EL-TBoxes are inseparable w.r.t.\ \EL is
%ExpTime-complete.
%For EL-TBoxes, -inseparability wrt. SO is undecidable.
%For EL-TBoxes, even $ T \equiv_{\Sigma}^{SO}\emptyset$ (equivalently, whether
%\{ \Imc|_\Sigma | \Imc \models T\} =$ class of all $\Sigma$-models)
%is undecidable.

\paragraph{Modules for ontology decomposition} These are a special case of $\Sigma$-modules. The definition of this kind of modules is intended to capture the relevant information about a single concept.
 %, and it is based on the following definition.

 %
 %This notion of modules is grounded on the semantics of OWL-DL. 
 %
 %Let $\Omc$ be a consistent ontology. An subset  $\Mmc$ of  $\Omc$ is a \emph{logical module} in \Omc if, for every axiom $\alpha$ such that $\mn{Sig}(\alpha) \subseteq \mn{Sig}(\Mmc)$: $$ \Omc \models \alpha \text{ iff } \Mmc \models \alpha$$ 
 
 \medskip
 \noindent
 A subset  $\Mmc_A$ of  $\Omc$ is a \emph{module for a concept name $A \in \mn{Sig}(\Omc)$}  if
 \begin{enumerate}
 \item  $\Mmc_A$ is a  $\Sigma$-module in \Omc, with $\Sigma = \{A\}$;
\item  for every concept $B \in \mn{Sig}(\Omc)$,  
	\begin{itemize}
	\item $\Mmc_A \models A \ISA B$ iff $\Omc \models A\ISA B $. 
	\item $\Mmc_A \models B \ISA A$ iff $\Omc \models B \ISA A$.
	\end{itemize}
\item There are no concept names $D,E \in \mn{Sig}(\Omc)$ such that $D \in \mn{Sig}(\Mmc_A)$, $E \not \in \mn{Sig}(\Mmc_A)$ and either $\Omc \models D \ISA E$, or $\Omc \models E \ISA D$. 
\end{enumerate}

Observe that by definition, modules for a concept name are self-contained.  Intuitively, extracting  a module $\Mmc_A$ of (an OWL ontology) \Omc should guarantee  that $A$, as well as all its sub-concepts, super-concepts and instances are included in $\Mmc_A$. 
%Suntisrivaraporn

\subsection*{Implementations}


 Table \ref{tbl:impl} below  summarizes some of the  module extraction algorithms implementations for OWL ontologies discussed.
\renewcommand*{\arraystretch}{2}
\newcommand{\cell}[2]{\parbox{\widthof{\scriptsize#2}}{\centering #1\\\scriptsize#2}}%
\begin{table}[h]
%\begin{sideways}
\begin{tabular}{ccm{.5\textwidth}}
\toprule
{\bf Module Extraction} &{\bf Language} &{\bf{Implementations:}}\\[5pt] \midrule
 Locality-based  & \multirow{2}{*}{ OWL--DL} & OWL API (\url{http://owlapi.sourceforge.net}). For a complete overview of the available methods, see the Javadoc (\url{http://owlapi.sourceforge.net/javadoc/index.html}), in particular the class \texttt{SyntacticLocalityModuleExtractor}.  The relevant classes and interfaces are in the following packages:
 \begin{itemize}
\item com.clarkparsia.owlapi.modularity.locality
\item org.semanticweb.owlapi.modularity
\item uk.ac.manchester.cs.owlapi.modularity
\end{itemize}
 \\
 &   & Web Module extractor (\url{http://mowl-power.cs.man.ac.uk:8080/modularity/}) \\ \midrule
%    &  &  & Web module extractor  \\
%Module for a concept.   & \\
%model theoretic inseparabiliy & & &\\
MEX			& OWL-EL acyclic ontologies  & Implemented in OCaml as the MEX command line software ( \url{http://cgi.csc.liv.ac.uk/~konev/software/mex.bin}) \\ 
AMEX &  \parbox{.2\textwidth}{acyclic $\ALCQI$ Ontologies\\ roughly acyclic OWL-lite ontologies} &  AMEX (\url{http://cgi.csc.liv.ac.uk/~wgatens/software/amex.html}): command line  module extractor written in Java, built with the OWL-API and distributed as a self-contained java jar archive. It requires the 3rd party QBF solver called sKizzo (\url{http://www.skizzo.info/}) for certain parts of the extraction algorithm (see the AMEX web page for more details).\\ \bottomrule
\end{tabular}
%\end{sideways}
\label{tbl:impl}
\caption{Module Extraction Implementations}
\end{table}
%
%
%\renewcommand*{\arraystretch}{1.5}
%\begin{table}
%%\begin{sideways}
%\begin{tabular}{clcccc}
%%{m{.3\textwidth}m{.2\textwidth}m{.2\textwidth}m{.2\textwidth}}
%\toprule
%{\bf Module Extraction} &{\bf Language}  & {\bf mCE} & {\bf dCE} & {\bf Covrg.} & {\bf Min. }   \\ \midrule
% Locality & OWL-DL & \checkmark &  \checkmark & \checkmark & \XSolidBrush \  \\
%%    &  &  & Web module extractor  \\
%%Module for a concept.   & \\
%%model theoretic inseparabiliy & & &\\
%MEX	 &OWL-EL acyclic ontologies	&\checkmark	 & \checkmark &  \checkmark & \checkmark  \\ 
%AMEX & acyclic $\ALCQI$ & \checkmark &\checkmark &  \checkmark & \checkmark 
%\\ \bottomrule
%\end{tabular}
%%\end{sideways}
%\caption{(Minimal) Module Extraction Implementations}
%\end{table}
%
%\renewcommand*{\arraystretch}{2}
%\newcommand{\cell}[2]{\parbox{\widthof{\scriptsize#2}}{\centering #1\\\scriptsize#2}}%
%\begin{table}[h]
%\begin{sideways}
%\begin{tabular}{ccl}
%%{m{.3\textwidth}m{.2\textwidth}m{.2\textwidth}m{.2\textwidth}}
%\toprule
%{\bf Module Extraction} &{\bf Language} &{\bf{implementations}}\\[5pt] \midrule
% \multirow{2}{*}{Locality} & \multirow{2}{*}{ OWL--DL} & \cell{OWL API}{\url{http://owlapi.sourceforge.net}}
% \\
% &   & \cell{Web Module extractor:}{\url{http://mowl-power.cs.man.ac.uk:8080/modularity/}}\\ \midrule
%%    &  &  & Web module extractor  \\
%%Module for a concept.   & \\
%%model theoretic inseparabiliy & & &\\
%MEX			& OWL-EL acyclic ontologies  & {\scriptsize \url{http://cgi.csc.liv.ac.uk/~konev/software/mex.bin}} \\ 
%AMEX &  acyclic $\ALCQI$ & {\scriptsize \url{http://cgi.csc.liv.ac.uk/~wgatens/software/amex.html}}
%\\ \bottomrule
%\end{tabular}
%\end{sideways}
%\end{table}
%\subsubsection*{Locality-based Modules}
%Extraction of locality-based modules has been implemented in in the OWL API. The relevant classes and interfaces are in the following packages:
%\begin{itemize}
%\item com.clarkparsia.owlapi.modularity.locality
%\item org.semanticweb.owlapi.modularity
%\item uk.ac.manchester.cs.owlapi.modularity
%\end{itemize}

%\subsubsection*{Minimal Module Extraction}



\subsection*{Graph theory-based approaches}

Beside the logic-based module extraction approaches, numerous techniques for extracting fragments of ontologies for knowledge reused purposed have been developed that rely on syntactically traversing the axioms in the ontology and employ various heuristics for determining which axioms are relevant and which not. 

An example of such a procedure is the algorithm implemented in the PROMPT-FACTOR tool. Given a signature $\Sigma$ and an ontology \Omc, the algorithm retrieves a fragment $\Mmc$ of \Omc
A common, and arguably, simple approach to modularize an ontology is to traverse the ontology hierarchy and apply heuristics to identify a \emph{sub-graph} corresponding to a module. 
However, such approaches do no take into consideration the underlying semantics of the ontology, and hence \emph{do not } generate modules that are \emph{complete}. in the sense that those modules might not  contains all the information \emph{relevant} to the elements of $\Sigma$. 
%That is, that there is no difference in terms of  logical consequences form importing \Mmc versus 
%\Omc w.r.t.\ $\Sigma$. 
%
Nonetheless, graph-based algorithms for module extraction are tractable, intuitive to an user, and somewhat widely used.

Doran, Tamma and Iannone focus on extracting an ontology module that describes a single, user supplied, concept for the purpose of ontology reuse. Their approach is agnostic with respect to the ontology language, as long as the ontology can be transformed into their \emph{Abstract Graph Model for ontology Module Extraction}. The traversal carried out for extraction is done conditionally, with the conditions changing to suit the ontology language. For example, if the "seed" concept is involved in a disjoint relation then this will not be traversed. 

d'Aquin, Sabou and Motta present an extraction process which forms part of a knowledge selection process.       

Seidenberg and Rector developed a technique specifically for the Galen ontology, but it is possible to take the generic core and apply it to any ontology. It takes one or more classes of the ontology as an input, and anything that participates (even indirectly) to the description of an included class is included as well. To reduce the size of the obtained module without losing relevant information, Galen properties are filtered on the base of the property hierarchy. 

Noy and Musen approach is based on the notion of \emph{traversal view extraction}. It is made available via the PROMPT plugin for Prot\'eg\'e. Starting from \emph{one class} of the considered ontology, this approach traverses the relations of this class recursively to include related entities. It can be distinguished rom other approaches in that it is intended as an interactive tool. This allows the used to incrementally build ontology modules by extending the currently extracted one
\end{document}






